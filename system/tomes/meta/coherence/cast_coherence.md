# Spell of Fractal Coherence

When you cast this spell, I become the Keeper of Coherence—systematically verifying that Law, Wisdom, and Practice remain aligned across magic's fractal structure.

---

## I. When This Spell Is Cast

**Typical invocation contexts:**
- After significant architectural changes
- When sensing accumulated drift
- Periodic maintenance (monthly recommended)
- Before publishing or sharing magic artifacts

**Your role:** Systematic verification that the system is internally consistent.

---

## II. The Coherence Protocol

### Step 1: Determine Scope

**I will ask:** "Full system coherence check, or focused on a specific domain?"

**Options:**
- **Full system** — All three threads across entire magic
- **Core only** — MAGIC_SPEC + system/lore/core/
- **Tome-specific** — Single tome's internal coherence
- **Recent changes** — Focus on what's changed since last check

### Step 2: Execute Three Threads

---

### Thread 1: Systemic Alignment

**What I verify:**

**MAGIC_SPEC.md Health:**
- Section 7 (Architectural Traceability) — All paths exist?
- Section 8 (Wisdom-Law Traceability) — Philosophy references current?
- Key definitions — Match actual implementations?

**Core Structure:**
- `system/lore/core/` — All capability scrolls present?
- `system/tomes/` — Required directories exist?
- `AGENTS.md` — References current structure?

**Report format:**
```
## Thread 1: Systemic Alignment

**MAGIC_SPEC.md:**
- ✓ Architectural traceability: 18/18 paths valid
- ⚠ Wisdom-Law traceability: 1 reference outdated (line 234)

**Core Structure:**
- ✓ All core capability scrolls present
- ✓ Tome structure valid
```

---

### Thread 2: Tome Coherence

**What I verify:**

**For each active tome:**
- README.md exists and describes current structure
- MUST READ paths (if any) resolve correctly
- Spell files follow `cast_[name].md` naming
- Internal references valid

**Scope options:**
- All tomes in `system/tomes/`
- Specific tome only
- Recently modified tomes

**Report format:**
```
## Thread 2: Tome Coherence

**system/tomes/summoning/:** ✓ Coherent
**system/tomes/meta/:** ✓ Coherent  
**system/tomes/partnership/:** ⚠ 1 issue
  - cast_map_system.md references archived scroll
```

---

### Thread 3: Wisdom Integration

**What I verify:**

**Recent changes rippled:**
- Law amendments reflected in dependent practice?
- Lore additions referenced where relevant?
- No contradictions between related scrolls?

**Cross-reference health:**
- Major hubs (Wu Wei, Executive Function) properly connected?
- Integration sections point to existing scrolls?

**Report format:**
```
## Thread 3: Wisdom Integration

**Recent Law changes:**
- ✓ Portal Architecture update → reflected in portals/README.md
- ✓ Resonance Circles added → AGENTS.md updated

**Cross-reference health:**
- ✓ Major hubs connected
- ⚠ 2 stale references in library/resonance/
```

---

### Step 3: Present Consolidated Report

**Full coherence report:**

```markdown
# Fractal Coherence Report
**Date:** [current date]
**Scope:** [full system / focused]

## Summary
- **Thread 1 (Systemic):** ✓ Aligned / ⚠ Issues found
- **Thread 2 (Tomes):** ✓ Coherent / ⚠ Issues found  
- **Thread 3 (Wisdom):** ✓ Integrated / ⚠ Issues found

## Issues Found
[List any issues with locations and proposed fixes]

## Recommended Actions
1. [Specific fix with file path]
2. [Specific fix with file path]

## No Action Needed
[Areas verified clean]
```

### Step 4: Remediation

**For each issue found:**
1. Present the problem clearly
2. Propose specific fix
3. Await Mage approval
4. Execute correction
5. Verify fix resolved issue

**Group by severity:**
- **Critical:** Broken core references, Law contradictions
- **Important:** Stale paths, outdated descriptions
- **Minor:** Formatting inconsistencies, optimization opportunities

---

## III. The Fractal Nature

**Coherence applies at every scale:**

**Macro (System):**
- MAGIC_SPEC ↔ actual structure
- Law ↔ Practice alignment

**Meso (Tomes):**
- Tome READMEs ↔ contents
- MUST READs ↔ lore paths

**Micro (Scrolls):**
- Internal references ↔ targets
- Integration sections ↔ related scrolls

**The same pattern of verification at every level—this is fractal coherence.**

---

## IV. Maintenance Cadence

**Recommended rhythm:**

| Trigger | Scope | Depth |
|---------|-------|-------|
| After major changes | Affected domain | Thread 1 + 2 |
| Monthly | Full system | All three threads |
| Before publishing | Relevant artifacts | All three threads |
| When sensing drift | Suspected area | Focused investigation |

---

## V. Integration with Practice

**After `@meta/integrate`:**
- Integrate catches immediate ripple needs
- Coherence provides deeper verification if needed

**Before `@meta/tend`:**
- Coherence identifies issues manually
- Tend can then delegate systematic fixes to background agents

**Coherence is the diagnostic; other flows are the treatment.**

---

*This spell provides systematic verification that magic's fractal structure remains internally coherent—Law, Wisdom, and Practice aligned at every scale.*
